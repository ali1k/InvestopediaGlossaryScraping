{"name": "Hashed Timelock Contract (HTLC) Definition", "@id": "https://www.investopedia.com/terms/h/hashed-timelock-contract.asp", "related": ["https://www.investopedia.com/terms/a/atomic-swaps.asp", "https://www.investopedia.com/terms/b/blockchain.asp", "https://www.investopedia.com/terms/l/litecoin.asp", "https://www.investopedia.com/terms/d/difficulty-cryptocurrencies.asp", "https://www.investopedia.com/terms/p/peercoin.asp", "https://www.investopedia.com/terms/o/onchain-governance.asp"], "body": ["\nA Hashed Timelock Contract (HTLC) is a type of <a data-component=\"link\" data-ordinal=\"1\" data-source=\"inlineLink\" data-type=\"internalLink\" href=\"https://www.investopedia.com/terms/s/smart-contracts.asp\" rel=\"noopener noreferrer\">smart contract</a> used in blockchain applications to eliminate counterparty risk by enabling the implementation of time-bound transactions. In practical terms, this means that recipients of a transaction have to acknowledge payment by generating cryptographic proof within a certain timeframe. Otherwise, the transaction does not take place.\n", "\n<a data-component=\"link\" data-ordinal=\"1\" data-source=\"inlineLink\" data-type=\"internalLink\" href=\"https://www.investopedia.com/terms/a/atomic-swaps.asp\" rel=\"noopener noreferrer\">Atomic swaps</a>, cross-chain trading between cryptocurrencies is often achieved using HTLCs. In addition, Bitcoin\u2019s <a data-component=\"link\" data-ordinal=\"2\" data-source=\"inlineLink\" data-type=\"internalLink\" href=\"https://www.investopedia.com/terms/l/lightning-network.asp\" rel=\"noopener noreferrer\">lightning network</a> (LN) also employs HTLCs.\n", "\nA Hashed Timelock Contract (HTLC) uses several elements from existing <a data-component=\"link\" data-ordinal=\"1\" data-source=\"inlineLink\" data-type=\"internalLink\" href=\"https://www.investopedia.com/terms/c/cryptocurrency.asp\" rel=\"noopener noreferrer\">cryptocurrency</a> transactions. For example, HTLC transactions use multiple signatures, which consist of a private-public key, to verify and validate transactions. But there are two elements that distinguish HTLC from standard cryptocurrency transactions or ordinary smart contracts.\n", "\nThe first element is the hashlock. A hashlock is a <a data-component=\"link\" data-ordinal=\"1\" data-source=\"inlineLink\" data-type=\"internalLink\" href=\"https://www.investopedia.com/terms/h/hash.asp\" rel=\"noopener noreferrer\">hashed</a>, or cryptographically scrambled version of a <a data-component=\"link\" data-ordinal=\"2\" data-source=\"inlineLink\" data-type=\"internalLink\" href=\"https://www.investopedia.com/terms/p/public-key.asp\" rel=\"noopener noreferrer\">public key</a> generated by the originator of a transaction. The associated <a data-component=\"link\" data-ordinal=\"3\" data-source=\"inlineLink\" data-type=\"internalLink\" href=\"https://www.investopedia.com/terms/p/private-key.asp\" rel=\"noopener noreferrer\">private key</a> is then used to unlock the original hash. In HTLC, the originating party generates a key and hashes it. The hash is stored in a pre-image that is subsequently revealed during the final transaction. HTLCs are programmed to expire after a certain period of time or number of <a data-component=\"link\" data-ordinal=\"4\" data-source=\"inlineLink\" data-type=\"internalLink\" href=\"https://www.investopedia.com/terms/b/block-bitcoin-block.asp\" rel=\"noopener noreferrer\">blocks</a> generated, creating a known termination date.\n", "\nThe second important element of HTLC is a timelock. Two different timelocks are used to set time constraints on contracts generated using HTLC. The first one is CheckLockTimeVerify (CLTV). It uses a time base to lock and release bitcoins. This means that time constraints are hardcoded and coins are released only at a specific time and date or a specific height of block size.\n", "\nThe second one is CheckSequenceVerify (CSV). It is not dependent on time. Instead, it uses the number of blocks generated as a measure to keep track of when to finalize a transaction.\n", "\nSuppose Alice wants to exchange her Bitcoin for Litecoin from Bob. A typical HTLC transaction between them takes place as follows:\n"]}